{"version":3,"names":[],"mappings":"","sources":["goals.js"],"sourcesContent":["\"use strict\";\n\nvar log = console.log.bind(console);\nvar gameSelect;\nvar tableMode = 'total'; // sofar or total\n\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\n  // log(gamesJSON);\n  log(startGame); // log(playersJSON);\n\n  showTableMode(tableMode);\n  gameSelect = new Vue({\n    el: '#playertable',\n    data: {\n      showSelectionFlag: true,\n      showSelectorFlag: true,\n      expanded: true,\n      tempGame: startGame,\n      selectedGame: startGame,\n      games: gamesJSON,\n      players: gamesJSON[startGame]['players']\n    },\n    methods: {\n      selectGame: function selectGame(i) {\n        // log(i);\n        // log(this.games);\n        if (!this.expanded) {\n          this.showSelectionFlag = false;\n        }\n\n        if (this.games[i].result !== null) {\n          this.selectedGame = i;\n          this.tempGame = i;\n          this.players = gamesJSON[i]['players'];\n          document.getElementById(\"currentGame\").getElementsByTagName(\"span\")[0].innerHTML = this.games[i].game;\n          document.getElementById(\"game-\" + i).classList.add(\"selectedGame\");\n          showTableMode(tableMode); // log(this.players);\n        }\n      },\n      showSelection: function showSelection() {\n        if (!this.expanded) {\n          this.showSelectionFlag = true;\n        }\n      },\n      hideSelection: function hideSelection() {\n        if (!this.expanded) {\n          this.showSelectionFlag = false;\n        }\n      },\n      indicateGame: function indicateGame(i) {\n        //log(this.games[i].show);\n        if (this.games[i].show == 1) {\n          this.selectedGame = i;\n        }\n      },\n      removeIndication: function removeIndication(i) {\n        //log('remove ' + this.tempGame);\n        if (this.games[i].show == 1) {\n          this.selectedGame = this.tempGame;\n        }\n      },\n      formatDate: function formatDate(date) {\n        return moment(date, 'YYYY-MM-DD').format('DD.MM.YYYY');\n      },\n      checkZero: function checkZero(i) {\n        if (i === 0) {\n          return '';\n        }\n\n        return i;\n      },\n      checkGoalie: function checkGoalie(i) {\n        if (i !== undefined && i !== '') {\n          return ' (' + i + ')';\n        }\n\n        return '';\n      },\n      checkPenalty: function checkPenalty(penalty, played, percent) {\n        if (played == 1 & penalty !== null) {\n          if (percent == null) {\n            return penalty;\n          }\n\n          return penalty + ' (' + percent + '%)';\n        }\n\n        return '';\n      }\n    }\n  });\n  document.getElementById(\"toggleSwitch\").addEventListener(\"click\", toggleTable);\n});\n\nfunction toggleTable() {\n  var newMode = 'sofar';\n\n  if (tableMode === 'sofar') {\n    newMode = 'total';\n  }\n\n  showTableMode(newMode);\n}\n\nfunction showTableMode(mode) {\n  var visible = 'total';\n  var hidden = 'sofar';\n\n  if (mode === 'sofar') {\n    var visible = 'sofar';\n    var hidden = 'total';\n  }\n\n  var els = document.getElementsByClassName(hidden);\n  [].forEach.call(els, function (el) {\n    el.classList.add('hidden');\n  });\n  els = document.getElementsByClassName(visible);\n  [].forEach.call(els, function (el) {\n    el.classList.remove('hidden');\n  });\n  tableMode = visible;\n}\n\nwindow.addEventListener('resize', function () {\n  resizeChart();\n}, false);\n\nfunction resizeChart() {\n  var width = window.innerWidth;\n  log(width);\n\n  if (width < 480) {\n    gameSelect.expanded = false;\n    gameSelect.showSelectionFlag = false;\n  } else {\n    gameSelect.expanded = true;\n    gameSelect.showSelectionFlag = true;\n  }\n\n  log(gameSelect.expanded);\n}"],"file":"goals.js"}